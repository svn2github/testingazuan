<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
                         "http://java.sun.com/dtd/web-app_2_3.dtd">
<web-app>
    <!-- 
	you must provide a value for the display name tag and it should 
	match the context root of this web application
	-->
    <display-name>spagobi</display-name>
    <description>
        This application is a portlet. It can not be used outside a portal.
	</description>
	

    <!-- START LISTENERS -->
    <listener>
        <listener-class>it.eng.spagobi.scheduler.listeners.SchedulerContextListener</listener-class>
    </listener>
    <listener>
        <listener-class>org.exoplatform.services.portletcontainer.impl.servlet.PortletApplicationListener</listener-class>
    </listener>
    <!-- END LISTENERS -->
    
    
    <!-- START SERVLET DEFINITIONS -->
    <servlet>
        <servlet-name>ConfigServlet</servlet-name>
        <servlet-class>it.eng.spago.configuration.ConfigServlet</servlet-class>
        <init-param>
            <param-name>AF_CONFIG_FILE</param-name>
            <param-value>/WEB-INF/conf/master.xml</param-value>
        </init-param>
        <load-on-startup>0</load-on-startup>
    </servlet>
    <servlet>
        <servlet-name>AdapterHTTP</servlet-name>
        <servlet-class>it.eng.spago.dispatching.httpchannel.AdapterHTTP</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>PortletWrapper</servlet-name>
        <servlet-class>org.exoplatform.services.portletcontainer.impl.servlet.ServletWrapper</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ContentRepositoryServlet</servlet-name>
        <servlet-class>it.eng.spagobi.services.ContentRepositoryServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>EventsManagerServlet</servlet-name>
        <servlet-class>it.eng.spagobi.services.EventsManagerServlet</servlet-class>
    </servlet>
    
    
    
    <servlet>
        <servlet-name>PublishServlet</servlet-name>
        <servlet-class>it.eng.spagobi.services.PublishServlet</servlet-class>
        <!-- the drivers parameter contains all the drivers complete class name that an object 
             must have in order to be returned to the client
             Each driver name must be separated from other with a ; character 
             Example: driver1;driver2;driver3;
        -->
        <init-param>
            <param-name>DRIVERS</param-name>
            <param-value>it.eng.spagobi.drivers.jasperreport.JasperReportDriver</param-value>
        </init-param>
    </servlet>
    
    
    <servlet>
        <servlet-name>IReportServlet</servlet-name>
        <servlet-class>it.eng.spagobi.services.IReportPluginServlet</servlet-class>
        <!-- the drivers parameter contains all the drivers complete class name that an object 
             must have in order to be returned to the client
             Each driver name must be separated from other with a ; character 
             Example: driver1;driver2;driver3;
        -->
        <init-param>
            <param-name>DRIVERS</param-name>
            <param-value>it.eng.spagobi.drivers.jasperreport.JasperReportDriver</param-value>
        </init-param>
    </servlet>
    <servlet>
        <servlet-name>DashboardServlet</servlet-name>
        <servlet-class>it.eng.spagobi.services.DashboardServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ReportServlet</servlet-name>
        <servlet-class>it.eng.qbe.services.ReportServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>BookletServlet</servlet-name>
        <servlet-class>it.eng.spagobi.booklets.BookletsServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>BIObjectNotesServlet</servlet-name>
        <servlet-class>it.eng.spagobi.services.BIObjectNotesServlet</servlet-class>
    </servlet>
    <!-- start axis servlet -->
    <servlet>
        <servlet-name>AxisServlet</servlet-name>
        <servlet-class>org.apache.axis.transport.http.AxisServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>AdminServlet</servlet-name>
        <servlet-class>org.apache.axis.transport.http.AdminServlet</servlet-class>
        <load-on-startup>100</load-on-startup>
    </servlet>
    <!-- end axis servlet -->
    <servlet>
        <servlet-name>AuditManagerServlet</servlet-name>
        <servlet-class>it.eng.spagobi.services.AuditManagerServlet</servlet-class>
    </servlet> 
    <!--  MAP CATALOGUE -->
    <servlet>
        <servlet-name>MapCatalogueManagerServlet</servlet-name>
        <servlet-class>it.eng.spagobi.services.MapCatalogueManagerServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ShareProfileServlet</servlet-name>
        <servlet-class>it.eng.spagobi.services.ShareProfileServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ExecuteAndSendServlet</servlet-name>
        <servlet-class>it.eng.spagobi.services.ExecuteAndSendServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>SaveToPersonalFolderServlet</servlet-name>
        <servlet-class>it.eng.spagobi.services.SaveToPersonalFolderServlet</servlet-class>
    </servlet>
   
    

    <!-- END SERVLET DEFINITIONS -->



    <!-- START SERVLET MAPPINGS -->
    <servlet-mapping>
        <servlet-name>AuditManagerServlet</servlet-name>
        <url-pattern>/AuditManagerServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>AdapterHTTP</servlet-name>
        <url-pattern>/servlet/AdapterHTTP</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>AxisServlet</servlet-name>
        <url-pattern>/servlet/AxisServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>AxisServlet</servlet-name>
        <url-pattern>*.jws</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>AxisServlet</servlet-name>
        <url-pattern>/services/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>AdminServlet</servlet-name>
        <url-pattern>/servlet/AdminServlet</url-pattern>
    </servlet-mapping>
    <!-- end axis servlet -->
    <servlet-mapping>
        <servlet-name>BIObjectNotesServlet</servlet-name>
        <url-pattern>/BIObjectNotesService</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>BookletServlet</servlet-name>
        <url-pattern>/BookletService</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ReportServlet</servlet-name>
        <url-pattern>/ReportServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>PortletWrapper</servlet-name>
        <url-pattern>/PortletWrapper</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ContentRepositoryServlet</servlet-name>
        <url-pattern>/ContentRepositoryServlet/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>EventsManagerServlet</servlet-name>
        <url-pattern>/EventsManagerServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>IReportServlet</servlet-name>
        <url-pattern>/IReportService</url-pattern>
    </servlet-mapping>
     <servlet-mapping>
        <servlet-name>PublishServlet</servlet-name>
        <url-pattern>/PublishService</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>DashboardServlet</servlet-name>
        <url-pattern>/DashboardService</url-pattern>
    </servlet-mapping> 
    <servlet-mapping>
    		<servlet-name>MapCatalogueManagerServlet</servlet-name>
    		<url-pattern>/MapCatalogueManagerServlet</url-pattern>
	  </servlet-mapping>
	  <servlet-mapping>
        <servlet-name>ShareProfileServlet</servlet-name>
        <url-pattern>/ShareProfileService</url-pattern>
    </servlet-mapping> 
    <servlet-mapping>
        <servlet-name>ExecuteAndSendServlet</servlet-name>
        <url-pattern>/ExecuteAndSendService</url-pattern>
    </servlet-mapping> 
    <servlet-mapping>
        <servlet-name>SaveToPersonalFolderServlet</servlet-name>
        <url-pattern>/SaveToPersonalFolderService</url-pattern>
    </servlet-mapping> 
	<!-- END SERVLET MAPPINGS --> 


    <!-- OTHER CONFIGURATIONS -->
    <session-config>
        <session-timeout>30</session-timeout>
    </session-config>
    <welcome-file-list>
        <welcome-file>index.html</welcome-file>
        <welcome-file>index.htm</welcome-file>
        <welcome-file>index.jsp</welcome-file>
    </welcome-file-list>
  
  <!--
	<resource-ref>
 		<description>Foodmart db</description>
 		<res-ref-name>jdbc/sbifoodmart</res-ref-name>
 		<res-type>javax.sql.DataSource</res-type>
 		<res-auth>Container</res-auth>
	</resource-ref>
	-->
	
    <resource-ref>
        <description>Spagobi db</description>
        <res-ref-name>jdbc/spagobi</res-ref-name>
        <res-type>javax.sql.DataSource</res-type>
        <res-auth>Container</res-auth>
    </resource-ref>
     
</web-app>
