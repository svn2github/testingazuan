
How to install the Booklet module

1) Copy the content of the folder spagobi (that you can find into this package) into the exo-home/webapps/spagobi. 
  

2) Insert into the file exo-home/webapps/spagobi/WEB-INF/conf/master.xml the following lines:

<!-- start import pamphlets module -->
	<CONFIGURATOR path="/WEB-INF/conf/components/pamphlets/pamphlets.xml" />
	<CONFIGURATOR path="/WEB-INF/conf/components/pamphlets/pages.xml" />
	<CONFIGURATOR path="/WEB-INF/conf/components/pamphlets/modules.xml" />
	<CONFIGURATOR path="/WEB-INF/conf/components/pamphlets/presentation.xml" />
	<CONFIGURATOR path="/WEB-INF/conf/components/pamphlets/publishers.xml" />
	<CONFIGURATOR path="/WEB-INF/conf/components/pamphlets/initializers.xml" />
	<CONFIGURATOR path="/WEB-INF/conf/components/pamphlets/actions.xml" />
	<CONFIGURATOR path="/WEB-INF/conf/components/pamphlets/workflow.xml" />
	<CONFIGURATOR path="/WEB-INF/conf/components/pamphlets/forms.xml" />
<!-- end import pamphlets module -->

3) Insert into the file exo-home/webapps/spagobi/WEB-INF/portlet.xml the following lines (inside the </portlet-app> tag): 

	<portlet>
        <description>Collaboration over Pamphlets</description>		
        <portlet-name>SBIPamphletCollaboration</portlet-name>		
        <display-name>Collaboration over Pamphlets</display-name>		
        <portlet-class>it.eng.spago.dispatching.httpchannel.AdapterPortlet</portlet-class>
        <init-param>
            <name>serviceType</name>
            <value>PAGE</value>
        </init-param>
        <init-param>
            <name>serviceName</name>
            <value>PamphletsCollaborationPage</value>
        </init-param>
        <init-param>
            <name>light_navigation</name>
            <value>ENABLED</value>
        </init-param>		        
        <expiration-cache>0</expiration-cache>
        <supports>
	    	<mime-type>text/html</mime-type>
            <portlet-mode>VIEW</portlet-mode>
            <portlet-mode>EDIT</portlet-mode>
		</supports>
		<supported-locale>en</supported-locale>     
		<portlet-info>
        	<title>Collaboration over Pamphlets</title>
        	<short-title>Collaboration over Pamphlets</short-title>
        	<keywords>Collaboration over Pamphlets</keywords>
        </portlet-info>
        <portlet-preferences>
        	<preference>
        		<name>language</name>
        		<value>en</value>
        		<value>US</value>
        	</preference>
        </portlet-preferences>
	</portlet>
	
	
4) Insert into the file exo-home/webapps/spagobi/WEB-INF/web.xml the following lines (under the other similar definitions):

	<servlet>
        	<servlet-name>PamphletsImageServlet</servlet-name>
        	<servlet-class>it.eng.spagobi.pamphlets.PamphletsImageServlet</servlet-class>
    	</servlet>

	<servlet-mapping>
        	<servlet-name>PamphletsImageServlet</servlet-name>
        	<url-pattern>/PamphletsImageService</url-pattern>
    	</servlet-mapping>
    

5) Insert into the file exo-home/webapps/spagobi/WEB-INF/tlds/spagobi.tld the following lines (under the other similar definitions):


 	<tag>
		<name>worklist</name>
		<tagclass>it.eng.spago.workflow.worklist.tags.ListTag</tagclass>
		<bodycontent>EMPTY</bodycontent>
		<attribute>
			<name>actionName</name>
			<required>false</required>
			<rtexprvalue>true</rtexprvalue>
		</attribute>
		<attribute>
			<name>moduleName</name>
			<required>false</required>
			<rtexprvalue>true</rtexprvalue>
		</attribute>
		<attribute>
			<name>imgFolder</name>
			<required>false</required>
			<rtexprvalue>true</rtexprvalue>
		</attribute>
		<attribute>
			<name>channel</name>
			<required>false</required>
			<rtexprvalue>true</rtexprvalue>
		</attribute>
		<attribute>
			<name>showTitle</name>
			<required>false</required>
			<rtexprvalue>true</rtexprvalue>
		</attribute>
	</tag>
	<tag>
		<name>form</name>
		<tagclass>it.eng.spago.workflow.worklist.tags.FormTag</tagclass>
		<bodycontent>EMPTY</bodycontent>
		<attribute>
			<name>formIdentifier</name>
			<required>true</required>
			<rtexprvalue>true</rtexprvalue>
		</attribute>
		<attribute>
			<name>method</name>
			<required>true</required>
			<rtexprvalue>true</rtexprvalue>
		</attribute>
		<attribute>
			<name>action</name>
			<required>true</required>
			<rtexprvalue>true</rtexprvalue>
		</attribute>
		<attribute>
			<name>layout</name>
			<required>false</required>
			<rtexprvalue>true</rtexprvalue>
		</attribute>
	</tag>				

7) Open the file exo-home/webapps/spagobi/WEB-INF/conf/spagobi/spagobi_components and set to true the "installed" attribute 
   of the tag with name "pamphlets"

   <SPAGOBI_COMPONENT name="pamphlets" installed="true" /> 

	
8) Substitute the Shark.Conf file into the webapps/spagobi/WEB.INF/classes with the same file of your Shark installation
	