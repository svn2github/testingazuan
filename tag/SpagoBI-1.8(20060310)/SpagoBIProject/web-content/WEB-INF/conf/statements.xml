<?xml version="1.0" encoding="ISO-8859-1"?>
<STATEMENTS>
	<STATEMENT name="SELECT_USEID_FROM_PARUSE" 
               query="select 
						P.USE_ID as USE_ID        
						from        
						SBI_PARUSE P        
						WHERE P.PAR_ID = ? and P.LOV_ID = ? "/>
	<STATEMENT name="SELECT_USEID_FROM_LABEL" 
               query="select 
						P.USE_ID as USE_ID        
						from        
						SBI_PARUSE P        
						WHERE P.LABEL = ? AND P.PAR_ID = ? "/>					
  	<STATEMENT name="INSERT_CHECK" 
               query="insert into 
						sbi_checks (value_type_id,value_type_cd,value_1,value_2,label,descr)
						values (?,?,?,?,?,?)"/>
	<STATEMENT name="UPDATE_CHECK" 
               query="update sbi_checks set 
                      	value_type_id=?,
                      	value_type_cd=?,
                      	value_1=?,
                      	value_2=?,
                      	label=?,
                      	descr=?
                      where check_id = ?"/>
  	<STATEMENT name="DELETE_CHECK" query="delete from sbi_checks where check_id = ?"/>
  	<STATEMENT name="SELECT_ENGINE" 
               query="SELECT 	ENGINE_ID as ID, 
       						ENCRYPT as CRIPTABLE, 
       						NAME as NAME,
       						DESCR as DESCRIPTION,
       						MAIN_URL as URL,
       						SECN_URL as SECURL,
       						OBJ_UPL_DIR as UPLDIR,
       						OBJ_USE_DIR as USEDIR,	
       						DRIVER_NM as DRIVER_NAME
					FROM SBI_ENGINES 
					WHERE ENGINE_ID = ?"/>
	<STATEMENT name="SELECT_ALL_ENGINE" 
               query="SELECT 	ENGINE_ID as ID, 
       						ENCRYPT as CRIPTABLE, 
       						NAME as NAME,
       						DESCR as DESCRIPTION,
       						MAIN_URL as URL,
       						SECN_URL as SECURL,
       						OBJ_UPL_DIR as UPLDIR,
       						OBJ_USE_DIR as USEDIR	
					FROM SBI_ENGINES"/>
					
	<STATEMENT name="UPDATE_ENGINE" 
               query="UPDATE SBI_ENGINES SET 
                      	DESCr = ?, 
                      	MAIN_URL = ?, 
                      	SECN_URL = ?, 
                      	OBJ_UPL_DIR = ?, 
                      	OBJ_USE_DIR=?, 
                      	ENCRYPT = ?, 
                      	NAME = ?,  
                      	DRIVER_NM = ?
                      WHERE ENGINE_ID = ?"/>
                      
    <STATEMENT name="INSERT_ENGINE" 
               query="INSERT INTO SBI_ENGINES (ENCRYPT, NAME, DESCR, MAIN_URL, SECN_URL, OBJ_UPL_DIR, OBJ_USE_DIR,DRIVER_NM) 
                      values (?, ?, ?, ?, ?, ?, ?,?) "/>
  
  
    <STATEMENT name="DELETE_ENGINE" query="DELETE FROM SBI_ENGINES WHERE ENGINE_ID = ?"/>
  
  
     <STATEMENT name="SELECT_LIST_ENGINE" 
                query="SELECT 	E.ENGINE_ID AS ID, 
                       			E.DESCR AS DESCRIPTION,
                       			E.NAME AS NAME,
                       			E.LABEL AS LABEL  
                       FROM SBI_ENGINES E
                       ORDER BY LABEL,NAME,DESCRIPTION"/>
  	<STATEMENT name="SELECT_PARAMETERS" 
               query="SELECT 	PAR_ID as ID, 
       						DESCR as DESCRIPTION, 
       						LENGTH as LENGTH,
       						LABEL as LABEL,
       						PAR_TYPE_CD as TYPE,
       						MASK as MASK,	
       						PAR_TYPE_ID as TYPE_ID	
					FROM SBI_PARAMETERS 
					WHERE PAR_ID = ?"/>
					
	<STATEMENT name="SELECT_ALL_PARAMETERS"
				query="SELECT 	PAR_ID as ID, 
       						DESCR as DESCRIPTION, 
       						LENGTH as LENGTH,
       						LABEL as LABEL,
       						PAR_TYPE_CD as TYPE,
       						MASK as MASK,	
       						PAR_TYPE_ID as TYPE_ID	
					FROM SBI_PARAMETERS"/> 
  
  	<STATEMENT name="SELECT_LIST_PARAMETERS" 
                query="SELECT P.PAR_ID as ID, 
       						P.DESCR as DESCRIPTION, 
       						P.LENGTH as LENGTH,
       						P.LABEL as LABEL,
       						P.NAME as NAME,
						    P.PAR_TYPE_CD as TYPE,
       						P.MASK as MASK,	
       						P.PAR_TYPE_ID as TYPE_ID,
						(select count(*) from sbi_paruse u where P.PAR_ID = U.PAR_ID) as NUM 
						FROM SBI_PARAMETERS P
                       ORDER BY LABEL, NAME, DESCRIPTION"/>
  
	<STATEMENT name="UPDATE_PARAMETERS" 
               query="UPDATE SBI_PARAMETERS SET 
                      	DESCR = ?, 
                      	LENGTH = ?, 
                      	LABEL = ?, 
                      	PAR_TYPE_CD =?, 
                      	MASK = ?, 
                      	PAR_TYPE_ID = ?
                        WHERE PAR_ID = ?"/>
  
	<STATEMENT name="INSERT_PARAMETERS" 
               query="INSERT INTO SBI_PARAMETERS (DESCR, LENGTH, LABEL, PAR_TYPE_CD, MASK,PAR_TYPE_ID ) 
                      values (?, ?, ?, ?, ?, ?) "/>  
    
    <STATEMENT name="DELETE_PARAMETERS" 
    		   query="DELETE FROM SBI_PARAMETERS WHERE PAR_ID = ?"/>
    		   
    <STATEMENT name="SELECT_FUNCTIONALITY_BY_PATH" 
         	   query="SELECT FUNCT_ID as ID,	
         	                 DESCR as DESCRIPTION, 
         	                 NAME as NAME,
         	                 FUNCT_TYPE_ID as IDTYPE,
         	                 FUNCT_TYPE_CD as CDTYPE  	
					  FROM SBI_FUNCTIONS 
					  WHERE PATH = ?"/>
  
    <STATEMENT name="SELECT_LOW_FUNCTIONALITY_BY_PATH" 
         	   query="SELECT FUNCT_ID as ID,	
         	                 DESCR as DESCRIPTION, 
         	                 NAME as NAME,
         	                 PATH as PATH,
         	                 CODE as CODE   	
					  FROM SBI_FUNCTIONS 
					  WHERE PATH = ?"/>
	
	<STATEMENT name="SELECT_LOW_FUNCTIONALITY_BY_ID" 
         	   query="SELECT FUNCT_ID as ID,	
         	                 DESCR as DESCRIPTION, 
         	                 NAME as NAME,
         	                 PATH as PATH,
         	                 CODE as CODE   	
					  FROM SBI_FUNCTIONS 
					  WHERE FUNCT_ID = ?"/>
					  
    <STATEMENT name="SELECT_ROLES_OF_THE_LOW_FUNCTIONALITY" 
         	   query="SELECT ROLE_ID as IDROLE, 
         	                 STATE_CD as CDSTATE, 
         	                 STATE_ID as IDSTATE 
                      FROM sbi_func_role 
                      WHERE FUNCT_ID = ?"/>
                      
    <STATEMENT name="INSERT_LOWFUNCTIONALITY" 
               query="INSERT INTO SBI_FUNCTIONS (NAME, DESCR, PATH, FUNCT_TYPE_ID, FUNCT_TYPE_CD, CODE ) 
                      values (?, ?, ?, ?, ?, ?) "/>
                      
    <STATEMENT name="UPDATE_LOWFUNCTIONALITY" 
               query="UPDATE SBI_FUNCTIONS SET 
                      	NAME = ?, 
                      	DESCR = ?, 
                      	CODE = ?
                        WHERE FUNCT_ID = ?"/>  
                      
     <STATEMENT name="INSERT_LOWFUNCTIONALITY_ROLES" 
               query="INSERT INTO SBI_FUNC_ROLE (ROLE_ID, FUNCT_ID, STATE_ID, STATE_CD ) 
                      values (?, ?, ?, ?) "/>  
  
     <STATEMENT name="DELETE_ROLES_FUNCTIONALITY" 
               query="DELETE FROM SBI_FUNC_ROLE WHERE FUNCT_ID = ?"/>
     
     <STATEMENT name="DELETE_FUNCTIONALITY" 
               query="DELETE FROM SBI_FUNCTIONS WHERE FUNCT_ID = ?"/>
  
  	<STATEMENT name="SELECT_LIST_MODALITIES_VALUE" 
  	query="SELECT T.LOV_ID as ID,
                  T.LABEL as LABEL,
  	              T.NAME as NAME,
  	              T.DESCR as DESCRIPTION,
  	              T.INPUT_TYPE_CD as TYPE
  	       FROM SBI_LOV T
		   ORDER BY LABEL,NAME,DESCRIPTION "/>
		   
	<STATEMENT name="SELECT_PARAMETERS_LIST" 
  	query="SELECT PAR_ID as PAR_ID,
                  LABEL as LABEL,
  	              NAME as NAME,
  	              DESCR as DESCRIPTION,
  	              PAR_TYPE_CD as TYPE
  	       FROM SBI_PARAMETERS
		   ORDER BY LABEL,NAME,DESCRIPTION "/>
 
 	<STATEMENT name="SELECT_PREDEFINED_CHECKS" 
  	query="SELECT T.CHECK_ID as ID,
       		T.LABEL as LABEL,
       		T.NAME as NAME,
       		T.DESCR as DESCRIPTION,
       		T.VALUE_TYPE_CD as CONTROLTYPE
			FROM SBI_CHECKS T,
     		SBI_DOMAINS D
				WHERE D.DOMAIN_CD='PRED_CHECK'
				and T.VALUE_TYPE_CD = D.VALUE_CD
				ORDER BY LABEL,NAME,DESCRIPTION"/>
 	<STATEMENT name="SELECT_LIST_MODALITIES_CHECKS" 
  	query="SELECT T.CHECK_ID as ID,
       		T.LABEL as LABEL,
       		T.NAME as NAME,
       		T.DESCR as DESCRIPTION,
       		T.VALUE_TYPE_CD as CONTROLTYPE
			FROM SBI_CHECKS T,
     		SBI_DOMAINS D
				WHERE D.DOMAIN_CD='CHECK'
				and T.VALUE_TYPE_CD = D.VALUE_CD
				ORDER BY LABEL"/>
    <STATEMENT name="SELECT_ALL_CHECKS"
				query="SELECT 	CHECK_ID as ID, 
       						VALUE_TYPE_ID as VALUE_TYPE_ID,
       						VALUE_TYPE_CD as CHECK_TYPE,
       						VALUE_1 as FIRST_VALUE,
       						VALUE_2 as SECOND_VALUE,
       						LABEL as LABEL,
       						NAME as NAME,
       						DESCR as DESCRIPTION
					FROM SBI_CHECKS"/> 
	<STATEMENT name="SELECT_CHECKS_BY_ID"
				query="SELECT 	CHECK_ID as ID, 
       						VALUE_TYPE_ID as VALUE_TYPE_ID,
       						VALUE_TYPE_CD as CHECK_TYPE,
       						VALUE_1 as FIRST_VALUE,
       						VALUE_2 as SECOND_VALUE,
       						LABEL as LABEL,
       						NAME as NAME,
       						DESCR as DESCRIPTION
					FROM SBI_CHECKS WHERE CHECK_ID = ?"/> 
					
   <STATEMENT name="SELECT_CHECK_REFERENCES"
				query="SELECT USE_ID, CHECK_ID,PROG	
					FROM SBI_PARUSE_CK WHERE CHECK_ID = ?"/>
   
    <STATEMENT name="SELECT_MODALITIES_VALUE" 
  	query="SELECT LOV_ID as ID,
                  LABEL as LABEL,
                  NAME as NAME,
  	              DESCR as DESCRIPTION,
  	              LOV_PROVIDER as LOV_PROVIDER,
  	              INPUT_TYPE_CD as INPUT_TYPE_CD,
  	              INPUT_TYPE_ID as INPUT_TYPE_ID
  	       FROM SBI_LOV  
		   WHERE LOV_ID = ? "/>
  
  	<STATEMENT name="SELECT_ALL_MODALITIES_VALUE" 
  	query="SELECT LOV_ID as ID,
                  LABEL as LABEL,
                  NAME as NAME,
  	              DESCR as DESCRIPTION,
  	              LOV_PROVIDER as LOV_PROVIDER,
  	              INPUT_TYPE_CD as INPUT_TYPE_CD,
  	              INPUT_TYPE_ID as INPUT_TYPE_ID
  	       FROM SBI_LOV "/>
  	
  	
  	<STATEMENT name="UPDATE_MODALITIES_VALUE" 
               query="UPDATE SBI_LOV SET 
                      	LABEL = ?, 
                      	DESCR = ?, 
                      	LOV_PROVIDER =?, 
                      	INPUT_TYPE_CD = ?,
                      	INPUT_TYPE_ID = ?
                        WHERE LOV_ID = ?"/>
  
  
  	<STATEMENT name="INSERT_MODALITIES_VALUE" 
               query="INSERT INTO SBI_LOV (LABEL, DESCR, LOV_PROVIDER, INPUT_TYPE_CD, INPUT_TYPE_ID ) 
                      values (?, ?, ?, ?, ?) "/>  
    
  	
  	<STATEMENT name="DELETE_MODALITIES_VALUE" 
    query="DELETE FROM SBI_LOV WHERE LOV_ID = ?"/>
    
    
 	<STATEMENT name="SELECT_LIST_MODALITIES_VALUE_DETAILS" 
  	query="SELECT T.VALUE_CD AS INPUT_TYPE_CD,
  	              T.VALUE_ID AS INPUT_TYPE_ID
  	       FROM SBI_DOMAINS T
  	       WHERE VALUE_CD = ? AND DOMAIN_CD = 'INPUT_TYPE'"/> 
  
  
   <STATEMENT name="SELECT_LIST_DOMAINS" 
  	query="SELECT T.VALUE_NM AS VALUE_NAME,
  	              T.VALUE_ID AS VALUE_ID,
  	              T.VALUE_CD AS VALUE_CD
  	       FROM SBI_DOMAINS T
  	       WHERE DOMAIN_CD = ? "/>
  
  <STATEMENT name="SELECT_ALL_MODALITY_VALUES_ORDER_BY_CODE" 
  	query="SELECT LOV_ID as ID,
                  LABEL as LABEL,
                  NAME as NAME,
  	              DESCR as DESCRIPTION,
  	              INPUT_TYPE_CD as INPUT_TYPE_CD
  	       FROM SBI_LOV 
  	       ORDER BY INPUT_TYPE_CD"/>
  
  <STATEMENT name="SELECT_LIST_MODALITIES" 
  	query="SELECT U.USE_ID as USEID,
							U.PAR_ID as ID,
							U.LOV_ID as LOV_ID,
							U.LABEL as LABEL,
							U.NAME as NAME,
							U.DESCR as DESCRIPTION,
							(select count(*) from sbi_paruse_det  p where P.USE_ID = U.USE_ID) as ROLES 
							FROM SBI_PARUSE U
							where U.PAR_ID = ? "/>
  
  <STATEMENT name="SELECT_ROLES_FOR_PARUSE"
  			query="select 
  					T.EXT_ROLE_ID as ID_EXT_ROLE
  					from 
  					SBI_PARUSE P,
  					SBI_PARUSE_DET T
  					where P.USE_ID = ?
  					and P.USE_ID = T.USE_ID"/>
  					
  <STATEMENT name="SELECT_CHECKS_FOR_PARUSE"
  			query="select 
  					T.CHECK_ID as ID_CHECK
  					from 
  					SBI_PARUSE P,
  					SBI_PARUSE_CK T
  					where P.USE_ID = ?
  					and P.USE_ID = T.USE_ID"/>
  
  <STATEMENT name="SELECT_PARAMETER_USE_DETAIL" 
  	query="select P.USE_ID as USE_ID,
  				  P.PAR_ID as ID, 
  				  P.LOV_ID as ID_LOV, 
  				  P.LABEL as NAME, 
  				  P.DESCR as DESCRIPTION
				  from 
				  SBI_PARUSE P 
				  WHERE P.PAR_ID = ? and P.LOV_ID = ?"/> 
	
	
	<STATEMENT name="SELECT_PARAMETER_USE_MODE_BY_PAR_ID" 
  	query="select P.USE_ID as USE_ID,
  				  P.PAR_ID as ID, 
  				  P.LOV_ID as ID_LOV, 
  				  P.LABEL as LABEL, 
  				  P.NAME as NAME, 
  				  P.DESCR as DESCRIPTION
				  from 
				  SBI_PARUSE P 
				  WHERE P.PAR_ID = ? "/>    
	
	<STATEMENT name="SELECT_PARAMETER_USE_MODE_BY_LOV_ID" 
  	query="select P.USE_ID as USE_ID,
  				  P.PAR_ID as ID, 
  				  P.LOV_ID as ID_LOV, 
  				  P.LABEL as LABEL, 
  				  P.NAME as NAME, 
  				  P.DESCR as DESCRIPTION
				  from 
				  SBI_PARUSE P 
				  WHERE P.LOV_ID = ? "/>   
				   
	<STATEMENT name="SELECT_PARAMETER_USE_DETAIL_BY_USEID" 
  			   query="select 
  			      P.USE_ID as USE_ID,
  				  P.PAR_ID as ID, 
  				  P.LOV_ID as ID_LOV, 
  				  P.LABEL as LABEL 
  				  P.NAME as NAME, 
  				  P.DESCR as DESCRIPTION
				  from 
				  SBI_PARUSE P 
				  WHERE P.USE_ID=?"/> 
				  
  <STATEMENT name="INSERT_PARUSE" 
  	 query="INSERT INTO SBI_PARUSE (PAR_ID,LOV_ID,LABEL,DESCR)
			values (?,?,?,?)"/>			  
  <STATEMENT name="INSERT_PARAMETER_USE" 
  	 query="INSERT INTO SBI_PARAMETER_USE (PAR_ID,EXT_ROLE_ID,PROG,END_DT,START_DT,LOV_ID,CHECK_ID,LABEL,DESCR)
			values (?,?,?,?,?,?,?,?,?)"/>			  
				  
   <!-- SQL FOR ROLE -->
 <STATEMENT name="SELECT_ROLE_BY_NAME" 
               query="SELECT EXT_ROLE_ID,  
       						NAME,
       						DESCR,
       						CODE,
       						ROLE_TYPE_ID,
       						ROLE_TYPE_CD
					FROM SBI_EXT_ROLES 
					WHERE NAME = ?"/>
					
	<STATEMENT name="SELECT_ROLE_BY_ID"
				query="SELECT EXT_ROLE_ID,  
       						NAME,
       						DESCR,
       						CODE,
       						ROLE_TYPE_ID,
       						ROLE_TYPE_CD
					FROM SBI_EXT_ROLES 
					WHERE EXT_ROLE_ID = ?"/>
					
	<STATEMENT name="SELECT_ALL_ROLES" 
               query="SELECT EXT_ROLE_ID,  
       						NAME,
       						DESCR,
       						CODE,
       						ROLE_TYPE_ID,
       						ROLE_TYPE_CD
					FROM SBI_EXT_ROLES"/>
					
	<STATEMENT name="SELECT_DOMAIN_BY_ROLE_ID" 
               query="select * from SBI_DOMAINS where VALUE_ID = ?"/>
	
	<STATEMENT name="SELECT_FUNCT_BY_ROLE_ID" 
               query="select * from sbi_func_role where role_id = ?"/>
	<!--
	<STATEMENT name="SELECT_ALL_FREE_ROLES_FOR_DETAIL" 
               query="SELECT EXT_ROLE_ID,  
       						NAME,
       						DESCR,
       						CODE,
       						ROLE_TYPE_ID,
       						ROLE_TYPE_CD
					FROM SBI_EXT_ROLES
					WHERE EXT_ROLE_ID NOT IN
				    (SELECT EXT_ROLE_ID FROM
				    		SBI_PARUSE_DET PUD,
	     					SBI_PARUSE PU
	     					WHERE PU.PAR_ID = ? AND PU.LOV_ID != ?
             				AND PU.USE_ID = PUD.USE_ID)"/>
    -->                  
    <STATEMENT name="SELECT_ALL_FREE_ROLES_FOR_DETAIL" 
               query="SELECT EXT_ROLE_ID,  
       						NAME,
       						DESCR,
       						CODE,
       						ROLE_TYPE_ID,
       						ROLE_TYPE_CD
					FROM SBI_EXT_ROLES
					WHERE EXT_ROLE_ID NOT IN
				    (SELECT EXT_ROLE_ID FROM
				    		SBI_PARUSE_DET PUD,
	     					SBI_PARUSE PU
	     					WHERE PU.PAR_ID = ? AND PU.LABEL != ?
             				AND PU.USE_ID = PUD.USE_ID)"/> 
     
     
     
	<STATEMENT name="SELECT_ALL_FREE_ROLES_FOR_INSERT" 
               query="SELECT EXT_ROLE_ID,
               					NAME,
       						 DESCR,
       						 CODE,
       						 ROLE_TYPE_ID,
       						 ROLE_TYPE_CD
					FROM SBI_EXT_ROLES
					WHERE EXT_ROLE_ID NOT IN
					(SELECT EXT_ROLE_ID FROM
							SBI_PARUSE_DET PUD,
							SBI_PARUSE PU
							WHERE PU.PAR_ID = ? AND PU.USE_ID = PUD.USE_ID)"/>
       						                 
    <STATEMENT name="INSERT_ROLE" 
               query="INSERT INTO SBI_EXT_ROLES(NAME, DESCR, CODE, ROLE_TYPE_ID, ROLE_TYPE_CD) 
                      values (?, ?, ?, ?, ?) "/>
 
 	<STATEMENT name="DELETE_ROLE" 
 				query="DELETE FROM SBI_EXT_ROLES WHERE EXT_ROLE_ID = ?"/>

	<STATEMENT name="FIND_DOMAIN_VALUE_ID_GIVEN_DOMAIN_CODE_AND_VALUE_CODE" 
 				query="select VALUE_ID  from SBI_DOMAINS WHERE VALUE_CD= ? AND DOMAIN_CD= ? "/>
	<!--  ANDREA ZOPPELLO (BEGIN )-->
	<STATEMENT name="SELECT_BIOBJ" 
 				query="select biobj_id, engine_id, descr, label, encrypt, rel_name, state_id, state_cd, biobj_type_cd, biobj_type_id, path
						from sbi_objects where biobj_id = ?"/>

	<STATEMENT name="SELECT_BIOBJ_BY_ENGINE_ID" 
 				query="select *
						from sbi_objects where engine_id = ?"/>
	
	<STATEMENT name="SELECT_BIOBJ_BYPATH"
				query="select biobj_id, engine_id, descr, label, encrypt, rel_name, state_id, state_cd, biobj_type_cd, biobj_type_id, path
						from sbi_objects where upper(path) = ?"/>
						
	<STATEMENT name="INSERT_BIOBJ"
				query="insert into sbi_objects 
						(engine_id, 
                        descr, 
                        label, 
                        encrypt, 
                        rel_name, 
                        state_id, 
                        state_cd, 
                        biobj_type_cd, 
                        biobj_type_id,path) values (?,?,?,?,?,?,?,?,?,?)"/>
                        
    <STATEMENT name="UPDATE_BIOBJ" 
               query="UPDATE SBI_OBJECTS SET 
                      	ENGINE_ID = ?, 
                      	DESCR = ?, 
                      	LABEL =?,
                      	ENCRYPT = ?,
                      	REL_NAME = ?,
                      	STATE_ID = ?,
                      	STATE_CD = ?,
                      	BIOBJ_TYPE_CD = ?,
                      	BIOBJ_TYPE_ID = ?,
                      	PATH = ?
                      WHERE BIOBJ_ID = ? "/>
                        
	<STATEMENT name="SELECT_ALL_BI_OBJECT_PARAMETERS_FOR_BI_OBJECT"
				query="select r.par_id as par_id, 
							r.biobj_id as biobj_id, 
							r.label as label, 
							r.req_fl as req_fl, 
							r.mod_fl as mod_fl, 
							r.view_fl as view_fl, 	
							r.mult_fl as mult_fl, 
							r.prog as prog, 
							r.parurl_nm as parurl_nm,
							p.label as parlabel, 
							p.name as parname, 
							p.par_type_cd as partype
							from sbi_obj_par r, sbi_parameters p
							where r.biobj_id=? and
							p.par_id=r.par_id
							order by parlabel,parname "/>
					
	
	<STATEMENT name="SELECT_BI_OBJECT_PARAMETER_DETAIL"
				query="select par_id, 
							biobj_id, 
							label, 
							req_fl, 
							mod_fl, 
							view_fl, 
							mult_fl, 
							prog, 
							parurl_nm
							from sbi_obj_par
							where biobj_id=? and par_id = ?"/>
	
	<STATEMENT name="SELECT_BI_OBJECT_PARAMETER_BY_PAR_ID"
				query="select par_id, 
							biobj_id, 
							label, 
							req_fl, 
							mod_fl, 
							view_fl, 
							mult_fl, 
							prog, 
							parurl_nm
							from  sbi_obj_par
							where par_id = ?"/>
	
	
	
	
	
	
	
	<STATEMENT name="UPDATE_BI_OBJECT_PARAMETER"
				query=" update sbi_obj_par set 
							par_id = ?,
							label = ?, 
							req_fl = ?, 
							mod_fl = ? ,
							view_fl = ? ,
							mult_fl = ? ,
							prog = 1 ,
							parurl_nm = ?
						
							where biobj_id=? and par_id = ?"/>
	
							
	<STATEMENT name="INSERT_BI_OBJECT_PARAMETER"
				query="insert into sbi_obj_par (par_id, biobj_id, label, req_fl, mod_fl, view_fl, mult_fl, prog, parurl_nm)
								 values (?,?,?,?,?,?,?,1,?)"/>
	
	<STATEMENT name="DELETE_BIOBJ" 
 				query="delete from sbi_objects where biobj_id=?"/>
 				
	<STATEMENT name="DELETE_BI_OBJECT_PARAMETER" 
 				query="delete from sbi_obj_par where par_id=? and biobj_id=?"/>
	<!--  ANDREA ZOPPELLO (END)-->
  
    <STATEMENT name="DELETE_BIOBJ_BIPARAMETERS" 
 				query="delete from sbi_obj_par where biobj_id=?"/>
  
   <STATEMENT name="INSERT_PARUSE_DET" 
  	 query="INSERT INTO SBI_PARUSE_DET (USE_ID, EXT_ROLE_ID, PROG)
			values (?, ?, ?)"/>					  
    <STATEMENT name="INSERT_PARUSE_CK" 
  	 query="INSERT INTO SBI_PARUSE_CK (USE_ID, CHECK_ID)
			values (?, ?)"/>	
    
    
    
    <STATEMENT name="SELECT_DOMAIN_FROM_CODE_VALUE" 
  	           query="SELECT D.VALUE_NM AS VALUE_NAME,
  	                         D.VALUE_ID AS VALUE_ID,
  	                         D.VALUE_CD AS VALUE_CD
  	                  FROM SBI_DOMAINS D
  	                  WHERE DOMAIN_CD = ? AND VALUE_CD = ? "/>
  
  <STATEMENT name="UPDATE_PARUSE" 
               query="UPDATE SBI_PARUSE SET 
                      	LABEL = ?, 
                      	DESCR =? 
                        WHERE PAR_ID = ? AND LOV_ID = ?"/>
  
  <STATEMENT name="UPDATE_PARUSE_DET" 
               query="UPDATE SBI_PARUSE_DET SET 
                      	LOV_ID = ?, 
                      	EXT_ROLE_ID = ?, 
                      	CHECK_ID =?,
                      	START_DT = ?,
                      	PROG = ?,
                      	END_DATE = ? 
                        WHERE PAR_ID = ? AND LOV_ID = ?"/>
  
  <STATEMENT name="SELECT_ID_LOV_OLD" 
               query=	"SELECT LOV_ID AS ID_LOV_OLD
               			 FROM SBI_PARUSE
                         WHERE PAR_ID = ?"/>
  
  <STATEMENT name="DELETE_PARUSE_ID_LOV_OLD" 
               query=	"DELETE FROM SBI_PARUSE
                         WHERE PAR_ID = ? AND LOV_ID = ?"/>
                         
   <STATEMENT name="DELETE_PARUSE_DET_ID_LOV_OLD" 
               query=	"DELETE FROM SBI_PARUSE_DET                          
							WHERE 
							SBI_PARUSE_DET.USE_ID = ?"/>
	<STATEMENT name="DELETE_PARUSE_CK" 
               query=	"DELETE FROM SBI_PARUSE_CK                          
							WHERE 
							SBI_PARUSE_CK.USE_ID = ?"/>
							
	<STATEMENT name="UPDATE_PAR_USE"
				query="UPDATE  SBI_PARUSE
						SET PAR_ID=?, 
							LOV_ID=?,
							LABEL=?,
							DESCR=? 
						WHERE
							USE_ID=?"/> 
    
    <STATEMENT name="DELETE_PARUSE" 
               query=	"DELETE FROM SBI_PARUSE
                         WHERE USE_ID=?"/>   
                      
                                           
                         
                         
     <STATEMENT name="SELECT_PARAMETER_USE_FROM_IDPAR_IDROLE" 
               query="SELECT 
							PARUSE.USE_ID AS USE_ID,
							PARUSE.LOV_ID AS LOV_ID
					   FROM 
							SBI_PARUSE PARUSE,
							SBI_PARUSE_DET PARUSEDET
					   WHERE 
							PARUSE.PAR_ID = ? 
							AND PARUSEDET.EXT_ROLE_ID = ?
							AND PARUSE.USE_ID = PARUSEDET.USE_ID"/>  
  
  
      <STATEMENT name="SELECT_PARAMETERS_FROM_REPORT_PATH" 
               query="select par.par_id as idParam      
                      from sbi_objects ob, 
                           sbi_obj_par obpar,
                           sbi_parameters par
                      where ob.path = ? 
                        and obpar.biobj_id = ob.biobj_id 
                        and obpar.par_id = par.par_id "/>  
                    
      <STATEMENT name="SELECT_PARAUSES_FROM_ROLE_AND_PARAMETER" 
               query="select 
               				parusedet.use_id
    					from 
    						sbi_ext_roles rol,
            				sbi_paruse_det parusedet,
	    					sbi_paruse paruse 
       					where rol.name = ?
             				and parusedet.ext_role_id = rol.ext_role_id
             				and paruse.par_id = ?
	     					and parusedet.use_id = paruse.use_id"/>  
  
   	   <STATEMENT name="SELECT_FUNCTIONALITY_FROM_CODE" 
         	   query="SELECT FUNCT_ID as ID,	
         	                 DESCR as DESCRIPTION, 
         	                 NAME as NAME,
         	                 FUNCT_TYPE_ID as IDTYPE,
         	                 FUNCT_TYPE_CD as CDTYPE  	
					  FROM SBI_FUNCTIONS 
					  WHERE CODE = ?"/>
  
  
</STATEMENTS>
